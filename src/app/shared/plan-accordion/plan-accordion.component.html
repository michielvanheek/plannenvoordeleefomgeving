<ng-template ngFor let-element [ngForOf]="item._embedded.documentComponenten">
  <div *ngIf="isVisible(element)" [id]="element.identificatie" (mouseover)="preselect(element); $event.stopPropagation()" (mouseout)="preselect(null); $event.stopPropagation()" (click)="select(element); $event.stopPropagation()">
    <div *ngIf="hasNoOpschrift(element); else foo" class="marker-container" [class.inactive]="isNotSpecific(element)" [class.highlight]="isFiltered(element)">
      <div *ngIf="isSelected(element)" class="marker" [ngStyle]="isPreselectedOnly(element)? {opacity: 0.5}: {}"></div>
      <div class="nummer">{{element.nummer}}</div>
      <div class="inhoud" [innerHTML]="element.inhoud"></div>
      <div *ngIf="isSelected(element)" class="label">
        <button (click)="display.emit('annotationsVisible', true)" [disabled]="isPreselectedOnly(element)" title="Van deze regel de annotaties tonen" class="btn btn-link">
          <svg class="di di-sm">
            <use href="../assets/dso-icons.svg#label"></use>
          </svg>
        </button>
      </div>
    </div>
    <ng-template #foo>
      <button (click)="open(element); isOpenable(element)? $event.stopPropagation(): null" class="btn btn-title" [class.btn-link]="toc" [class.filtered]="isFiltered(element)" [ngStyle]="!isOpenable(element)? {cursor: 'default'}: null">
        <dso-document-element-title [element]="element" [level]="level" [toc]="toc" [display]="display" [inactive]="isNotSpecific(element)"></dso-document-element-title>
      </button>
      <ng-template [ngIf]="toc || element.isOpen || display.allOpen">
        <dso-plan-accordion *ngIf="element._embedded.documentComponenten.length; else bar" [item]="element" [level]="level + 1" [toc]="toc" [display]="display" [componentIdentificaties]="componentIdentificaties" style="display: block"></dso-plan-accordion>
        <ng-template #bar>
          <div class="marker-container">
            <div *ngIf="isSelected(element)" class="marker" [ngStyle]="isPreselectedOnly(element)? {opacity: 0.5}: {}"></div>
            <div class="inhoud" [class.inactive]="isNotSpecific(element)" [class.highlight]="isFiltered(element)" [innerHTML]="element.inhoud"></div>
            <div *ngIf="isSelected(element)" class="label">
              <button (click)="display.emit('annotationsVisible', true)" [disabled]="isPreselectedOnly(element)" title="Van deze regel de annotaties tonen" class="btn btn-link">
                <svg class="di di-sm">
                  <use href="../assets/dso-icons.svg#label"></use>
                </svg>
              </button>
            </div>
          </div>
        </ng-template>
      </ng-template>
    </ng-template>
  </div>
</ng-template>
